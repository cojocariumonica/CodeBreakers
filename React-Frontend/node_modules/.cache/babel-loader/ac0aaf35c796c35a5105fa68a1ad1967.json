{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/React-Frontend/src/pages/TST.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport API from '../components/api';\nimport './table.scss';\n\nclass TST extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      localStorage.removeItem('jwtToken');\n      window.location.reload();\n    };\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.addRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/addproject\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.DeleteThis = value => {\n      axios.delete(\"/api/Music/deletesongs/\" + value).then(res => {\n        window.location.reload();\n      });\n    };\n\n    this.UpdateThis = value => {\n      this.props.history.push({\n        pathname: '/updatesongs',\n        state: {\n          Artist: value\n        }\n      });\n    };\n\n    this.addBug = id => {\n      console.log(\"here\");\n      this.props.history.push({\n        pathname: '/addBug',\n        state: {\n          project_id: id\n        }\n      });\n    };\n\n    this.state = {\n      projects: [],\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\n    axios.get(API + '/api/auth/token').then(res => {\n      console.log(res.data);\n\n      if (res.data.token === \"Object]\") {\n        this.props.history.push(\"/login\");\n      } else {\n        axios.get(API + '/api/auth/getProjects').then(response => {\n          this.setState({\n            projects: response.data.tableData\n          });\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"table-users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, localStorage.getItem('jwtToken') && React.createElement(\"button\", {\n      class: \"btn btn-primary\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"div\", {\n      class: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Software Projects\"), React.createElement(\"table\", {\n      cellspacing: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Project Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Repository\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Project Team\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Add Bug\")), this.state.projects.map(project => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, project.project_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, project.description), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: project.repository,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, project.repository)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, project.project_team), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"btn btn-primary btn-block btn-large\",\n      onClick: () => this.addBug(project.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Add Bug\")))))));\n  }\n\n}\n\nexport default TST;","map":{"version":3,"sources":["/home/ec2-user/environment/React-Frontend/src/pages/TST.js"],"names":["React","Component","axios","Redirect","API","TST","constructor","props","logout","localStorage","removeItem","window","location","reload","setRedirect","setState","redirect","addRedirect","state","DeleteThis","value","delete","then","res","UpdateThis","history","push","pathname","Artist","addBug","id","console","log","project_id","projects","componentDidMount","defaults","headers","common","getItem","get","data","token","response","tableData","catch","error","render","map","project","project_name","description","repository","project_team"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom'\r\nimport API from '../components/api'\r\nimport './table.scss';\r\n\r\nclass TST extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projects: [],\r\n      redirect: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\r\n    axios.get(API+'/api/auth/token')\r\n      .then(res => {\r\n        console.log(res.data)\r\n        if(res.data.token === \"Object]\"){\r\n          this.props.history.push(\"/login\");\r\n        }else{\r\n          axios.get(API+'/api/auth/getProjects')\r\n          .then(response => {\r\n            this.setState({projects:response.data.tableData})\r\n          })\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      });\r\n  }\r\n\r\n  logout = () => {\r\n    localStorage.removeItem('jwtToken');\r\n    window.location.reload();\r\n  }\r\n\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n  addRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to='/addproject' />\r\n    }\r\n  }\r\n\r\n  DeleteThis = value => {\r\n\r\n    axios.delete(\"/api/Music/deletesongs/\" + value\r\n        ).then(res =>{\r\n          window.location.reload();\r\n        })\r\n  }\r\n\r\n  UpdateThis = value => {\r\n\r\n        this.props.history.push({\r\n          pathname: '/updatesongs',\r\n          state: {Artist: value}  \r\n      });\r\n\r\n  }\r\n\r\n  addBug = (id) => {\r\n    console.log(\"here\")\r\n    this.props.history.push({pathname: '/addBug',state: {project_id: id} });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <div class=\"table-users\">\r\n      {localStorage.getItem('jwtToken') &&\r\n        <button class=\"btn btn-primary\" onClick={this.logout}>Logout</button>\r\n      }\r\n      <div class=\"header\">Software Projects</div>\r\n      <table cellspacing=\"0\">\r\n          <tr>\r\n          <th>Project Name</th>\r\n          <th>Description</th>\r\n          <th>Repository</th>\r\n          <th>Project Team</th>\r\n          <th>Add Bug</th>\r\n          </tr>\r\n          {this.state.projects.map(project =>\r\n                  <tr>\r\n                    <td>{project.project_name}</td>\r\n                    <td>{project.description}</td>\r\n                    <td><a href={project.repository}>{project.repository}</a></td>\r\n                    <td>{project.project_team}</td>\r\n                    <td>\r\n                    <button class=\"btn btn-primary btn-block btn-large\" onClick={() => this.addBug(project.id)}>Add Bug</button>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </table>\r\n    </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TST;\r\n"]},"metadata":{},"sourceType":"module"}