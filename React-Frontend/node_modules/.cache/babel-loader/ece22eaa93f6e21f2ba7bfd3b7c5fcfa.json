{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/React-Frontend/src/pages/PM.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport API from '../components/api';\nimport './table.scss';\n\nclass PM extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      localStorage.removeItem('jwtToken');\n      window.location.reload();\n    };\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.addRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/addproject\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.bugReport = id => {\n      console.log(\"here\");\n      this.props.history.push({\n        pathname: '/bugReport',\n        state: {\n          project_id: id\n        }\n      });\n    };\n\n    this.state = {\n      projects: [],\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\n    axios.get(API + '/api/auth/token').then(res => {\n      console.log(res.data);\n\n      if (res.data.token === \"Object]\") {\n        this.props.history.push(\"/login\");\n      } else {\n        axios.get(API + '/api/auth/getProjects').then(response => {\n          console.log(response.data.tableData);\n          this.setState({\n            projects: response.data.tableData\n          });\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"table-users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, localStorage.getItem('jwtToken') && React.createElement(\"button\", {\n      class: \"btn btn-primary\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"div\", {\n      class: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Software Projects\"), React.createElement(\"table\", {\n      cellspacing: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Project Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Repository\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Project Team\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"See Bug Report\")), this.state.projects.map(project => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, project.project_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, project.description), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: project.repository,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, project.repository)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, project.project_team), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"btn btn-primary btn-block btn-large\",\n      onClick: () => this.bugReport(project.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Bug Report\"))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.addRedirect(), React.createElement(\"button\", {\n      class: \"btn btn-primary\",\n      onClick: this.setRedirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Add Project\"))));\n  }\n\n}\n\nexport default PM;","map":{"version":3,"sources":["/home/ec2-user/environment/React-Frontend/src/pages/PM.js"],"names":["React","Component","axios","Redirect","API","PM","constructor","props","logout","localStorage","removeItem","window","location","reload","setRedirect","setState","redirect","addRedirect","state","bugReport","id","console","log","history","push","pathname","project_id","projects","componentDidMount","defaults","headers","common","getItem","get","then","res","data","token","response","tableData","catch","error","render","map","project","project_name","description","repository","project_team"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAO,cAAP;;AAEA,MAAMC,EAAN,SAAiBJ,SAAjB,CAA2B;AAEzBK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA4BnBC,MA5BmB,GA4BV,MAAM;AACbC,MAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KA/BkB;;AAAA,SAkCnBC,WAlCmB,GAkCL,MAAM;AAClB,WAAKC,QAAL,CAAc;AACZC,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KAtCkB;;AAAA,SAuCnBC,WAvCmB,GAuCL,MAAM;AAClB,UAAI,KAAKC,KAAL,CAAWF,QAAf,EAAyB;AACvB,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF,KA3CkB;;AAAA,SA6CnBG,SA7CmB,GA6CNC,EAAD,IAAQ;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,WAAKf,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,QAAAA,QAAQ,EAAE,YAAX;AAAwBP,QAAAA,KAAK,EAAE;AAACQ,UAAAA,UAAU,EAAEN;AAAb;AAA/B,OAAxB;AACD,KAhDkB;;AAEjB,SAAKF,KAAL,GAAa;AACXS,MAAAA,QAAQ,EAAE,EADC;AAEXX,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;;AAEDY,EAAAA,iBAAiB,GAAG;AAClB1B,IAAAA,KAAK,CAAC2B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDtB,YAAY,CAACuB,OAAb,CAAqB,UAArB,CAAjD;AACA9B,IAAAA,KAAK,CAAC+B,GAAN,CAAU7B,GAAG,GAAC,iBAAd,EACG8B,IADH,CACQC,GAAG,IAAI;AACXd,MAAAA,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB;;AACA,UAAGD,GAAG,CAACC,IAAJ,CAASC,KAAT,KAAmB,SAAtB,EAAgC;AAC9B,aAAK9B,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,OAFD,MAEK;AACHtB,QAAAA,KAAK,CAAC+B,GAAN,CAAU7B,GAAG,GAAC,uBAAd,EACC8B,IADD,CACMI,QAAQ,IAAI;AAChBjB,UAAAA,OAAO,CAACC,GAAR,CAAYgB,QAAQ,CAACF,IAAT,CAAcG,SAA1B;AACA,eAAKxB,QAAL,CAAc;AAACY,YAAAA,QAAQ,EAACW,QAAQ,CAACF,IAAT,CAAcG;AAAxB,WAAd;AACD,SAJD;AAKD;AACF,KAZH,EAaGC,KAbH,CAaUC,KAAD,IAAW;AAChBpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAZ;AACD,KAfH;AAgBD;;AAwBDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCjC,YAAY,CAACuB,OAAb,CAAqB,UAArB,KACC;AAAQ,MAAA,KAAK,EAAC,iBAAd;AAAgC,MAAA,OAAO,EAAE,KAAKxB,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAIA;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJA,EAKA;AAAO,MAAA,WAAW,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALA,CADJ,EASC,KAAKU,KAAL,CAAWS,QAAX,CAAoBgB,GAApB,CAAwBC,OAAO,IACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,OAAO,CAACC,YAAb,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,OAAO,CAACE,WAAb,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAG,MAAA,IAAI,EAAEF,OAAO,CAACG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BH,OAAO,CAACG,UAAtC,CAAJ,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,OAAO,CAACI,YAAb,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAQ,MAAA,KAAK,EAAC,qCAAd;AAAoD,MAAA,OAAO,EAAE,MAAM,KAAK7B,SAAL,CAAeyB,OAAO,CAACxB,EAAvB,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,CALF,CADX,CATD,CALA,EA0BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACc,KAAKH,WAAL,EADd,EAEa;AAAQ,MAAA,KAAK,EAAC,iBAAd;AAAgC,MAAA,OAAO,EAAE,KAAKH,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFb,CA1BG,CADA,CADF;AAmCD;;AAxFwB;;AA2F3B,eAAeT,EAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport API from '../components/api';\r\nimport './table.scss';\r\n\r\nclass PM extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projects: [],\r\n      redirect: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\r\n    axios.get(API+'/api/auth/token')\r\n      .then(res => {\r\n        console.log(res.data)\r\n        if(res.data.token === \"Object]\"){\r\n          this.props.history.push(\"/login\");\r\n        }else{\r\n          axios.get(API+'/api/auth/getProjects')\r\n          .then(response => {\r\n            console.log(response.data.tableData)\r\n            this.setState({projects:response.data.tableData})\r\n          })\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      });\r\n  }\r\n\r\n  logout = () => {\r\n    localStorage.removeItem('jwtToken');\r\n    window.location.reload();\r\n  }\r\n\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n  addRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to='/addproject' />\r\n    }\r\n  }\r\n\r\n  bugReport = (id) => {\r\n    console.log(\"here\")\r\n    this.props.history.push({pathname: '/bugReport',state: {project_id: id} });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <div class=\"table-users\">\r\n      {localStorage.getItem('jwtToken') &&\r\n        <button class=\"btn btn-primary\" onClick={this.logout}>Logout</button>\r\n      }\r\n      <div class=\"header\">Software Projects</div>\r\n      <table cellspacing=\"0\">\r\n          <tr>\r\n          <th>Project Name</th>\r\n          <th>Description</th>\r\n          <th>Repository</th>\r\n          <th>Project Team</th>\r\n          <th>See Bug Report</th>\r\n          </tr>\r\n\r\n      {this.state.projects.map(project =>\r\n                  <tr>\r\n                    <td>{project.project_name}</td>\r\n                    <td>{project.description}</td>\r\n                    <td><a href={project.repository}>{project.repository}</a></td>\r\n                    <td>{project.project_team}</td>\r\n                    <td>\r\n                     <button class=\"btn btn-primary btn-block btn-large\" onClick={() => this.bugReport(project.id)}>Bug Report</button>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n   </table>\r\n   <div>\r\n                {this.addRedirect()}\r\n                <button class=\"btn btn-primary\" onClick={this.setRedirect}>Add Project</button>\r\n                 </div>\r\n    </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PM;\r\n"]},"metadata":{},"sourceType":"module"}